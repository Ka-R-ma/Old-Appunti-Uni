\documentclass{subfiles}
\begin{document}
\begin{figure}[!h]
    \centering
    \begin{subfigure}[b]{0.45\textwidth}
        \begin{lstlisting}[language = algol]
            begin
                MAX $\leftarrow$ x $\in$ S
                for y $\in$ S, y $\neq$ x do
                    if y > MAX then MAX $\leftarrow$ y
            end
            
        \end{lstlisting}
    \end{subfigure}
\end{figure}
\end{document}